<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./style/main.css">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
      
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  </head>
  
  <body>
    <div class="main-content">

        <nav>
            <div>
              <div id="headLog" class="row">
                <div class="col-md-9">
                  <a href="./home-page.html">
                    <img class="img-circle" alt="Cinque Terre" width="100" height="100" src="./images/tgif_logo.jpg">
                  </a>
                </div>
                <div class="my-auto col-md-3 eml">
                  <a href = "mailto: info@tgif.net">
                    <img alt="email" width="20" height="20" src="./images/email-envelope-outline-shape-with-rounded-corners.svg"> 
                    <p>info@tgif.net</p>
                  </a>
                </div>
              </div>
              
              <nav id="navi" class="navbar navbar-inverse">
                <ul id="navUl" class="nav navbar-nav">
                  <li><a href="./home-page.html">Home</a></li>
                  <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Congress 113<span class="caret"></span></a>
                    <ul class="dropdown-menu" >
                      <li><a href="./house-data.html">House</a></li>
                      <li><a href="./senate-data.html">Senate</a></li>
                    </ul>
                  </li>
                  <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Attendance<span class="caret"></span></a>
                    <ul class="dropdown-menu" >
                      <li><a href="./house-attendance.html">House</a></li>
                      <li><a href="./senate-attendance.html">Senate</a></li>
                    </ul>
                  </li>
                  <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Party Loyalty<span class="caret"></span></a>
                    <ul class="dropdown-menu" >
                      <li class="active"><a href="">House</a></li>
                      <li><a href="./senate-party-loyalty.html">Senate</a></li>
                    </ul>
                  </li>
                </ul>
              </nav>
      
            </div>
          </nav>          
          
          <!-- Loader -->
          <div id=loader class="loader"></div>



      <!--Table container-->
      <div id="container" class="container">
        <div class="row">
          <div class="col-md-6">
            <h2>Party Loyalty</h2>
            <p class="exp">Those who consider themselves to be strong partisans, strong Democrats and strong Republicans respectively, tend to be the most faithful in voting for their party's nominee for office and legislation that backs their party's agenda. </p>
          </div>


          <div id="app"> 
          <div class="col-md-6">
          <h2>House at a glance</h2>
            <table class="table table-hover" >
                <thead>
                    <tr>
                        <th>Party</th>
                        <th>No. of Reps</th>
                        <th>% Voted with Prty</th>
                    </tr>
                </thead>
                <tbody id="atGlance">
                    <tr>
                        <td>Republican</td>
                        <td>{{statistics.number_of_republicans}}</td>
                        <td>{{statistics.republicans_vote_with_party}} %</td>
                    </tr>
                    <tr>
                        <td>Democrat</td>
                        <td>{{statistics.number_of_democrats}}</td>
                        <td>{{statistics.democrats_vote_with_party}} %</td>
                    </tr>
                    <tr>
                        <td>Independent</td>
                        <td>{{statistics.number_of_independents}}</td>
                        <td>{{statistics.independents_vote_with_party}} %</td>
                    </tr>
                    <tr>
                      <td>Total</td>
                      <td>{{statistics.number_of_total}}</td>
                      <td>{{statistics.total_vote_with_party}} %</td>
                  </tr>
                </tbody>
            </table>
          </div>

        
        <hr id="ruler">

        <div class="row">
          <div class="col-md-6">
          <h2>Least Loyal (Bottom 10% of Party)</h2>
          <table class="table table-hover">
              <thead>
                  <tr>
                      <th>Name</th>
                      <th>No. Party Votes</th>
                      <th>% Party Votes</th>
                  </tr>
              </thead>
              <tbody id="leastLoyal">
                  <tr v-for="(value,key) in statistics.members_often_not_vote_with_party">
                      <td><a target="_blank" v-bind:href="value.url">{{value.full_name}}</a></td>
                      <td>{{value.total_votes}}</td>
                      <td>{{value.votes_with_party_pct}}%</td>
                  </tr>
              </tbody>
          </table>
        </div>
        <div class="col-md-6">
          <h2>Most Loyal (Top 10% of Party)</h2>
          <table class="table table-hover">
              <thead>
                  <tr>
                      <th>Name</th>
                      <th>No. Party Votes</th>
                      <th>% Party Votes</th>
                  </tr>
              </thead>
              <tbody id="mostLoyal">
                  <tr v-for="(value,key) in statistics.members_often_vote_with_party">
                      <td><a target="_blank" v-bind:href="value.url">{{value.full_name}}</a></td>
                      <td>{{value.total_votes}}</td>
                      <td>{{value.votes_with_party_pct}}%</td>
                  </tr>
              </tbody>
          </table>
        </div>
        </div>
      </div>

    </div>    
    </div>
    <div id="footer" class="navbar navbar-inverse">
        <h4> &#169; 2016 TGIF | All Rights Reserved</h4>
      </div>
      
      <script src="./data/congress-113.js"></script>
    <script>$(document).ready(app.fetchData(house)) </script>
  
</body>
</html>